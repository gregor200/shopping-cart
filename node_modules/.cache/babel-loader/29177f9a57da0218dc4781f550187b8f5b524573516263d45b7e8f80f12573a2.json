{"ast":null,"code":"import _slicedToArray from\"/home/gregory/Documents/shopping-cart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useMemo}from\"react\";import cart from\"./imgs/shopping-bag.png\";import\"./cart.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(props){//imports picked products and slide function from RouteSwitch\nvar products=props.products,slide=props.slide,iid=props.iid;//stores the total number of picked products\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),allitems=_useState4[0],setAllitems=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),inc=_useState6[0],setInc=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),dec=_useState8[0],setDec=_useState8[1];//increases the product quantity when the + button is clicked\nvar increase=function increase(){if(inc.length>0){var id=inc[0];var ind=products.findIndex(function(x){return x.id===id;});products[ind].Quantity++;}else{void 0;}};//Decreases the product quantity when the - button is clicked\nvar decrease=function decrease(){if(dec.length>0){var id=dec[0];var ind=products.findIndex(function(x){return x.id===id;});if(products[ind].Quantity===1){var _id=document.getElementById(products[ind].id);console.log(_id);setTotal(total-products[ind].price);products.splice(ind,1);setAllitems(allitems-1);}else{products[ind].Quantity--;}}else{void 0;}};//loops through the selected products and multiply the quantity of each product by its price, and \n//adds all of them to get the total price\nvar Total=function Total(){var max=0;if(products.length>0){for(var i=0;i<products.length;i++){max+=products[i].price*products[i].Quantity;}setTotal(Number(max.toFixed(2)));}};//loops through the selected products and adds all the quantities, then displays them at the top of the cart\nvar cartTotal=function cartTotal(){var max=0;if(products.length>0){for(var i=0;i<products.length;i++){max+=products[i].Quantity;}setAllitems(max);}};//calls the total and the cart total to be recalculated when there is a change in \nuseMemo(function(){Total();cartTotal();},[iid]);//recalls the increase function when there is an increase\nuseMemo(function(){increase();Total();},[inc]);//recalls the decrease function when there is a decrease\nuseMemo(function(){decrease();Total();},[dec]);//recalls the total when there is a change in products\nuseMemo(function(){Total();},[products]);//recalls the cart total when there is a change in products, an increase or decrease in quantity\nuseMemo(function(){cartTotal();},[products,inc,dec]);//Shows and Hides the cart total when the selected products are zero, or when products are selected\nuseMemo(function(){if(total>1){document.getElementById(\"num\").style.display=\"flex\";};if(total<1&&dec.length>0){document.getElementById(\"num\").style.display=\"none\";}},[total]);return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"circle\",onClick:slide,children:/*#__PURE__*/_jsx(\"img\",{src:cart,alt:\"cart\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"num\",id:\"num\",children:/*#__PURE__*/_jsx(\"p\",{children:allitems})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"yourItems\",id:\"check\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your items:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"items\",children:products.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"semiItem\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.img,alt:\"product\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cont\",children:[/*#__PURE__*/_jsx(\"h1\",{children:item.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"$ \",Number((item.price*item.Quantity).toFixed(2))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{id:item.id,onClick:function onClick(){setInc([item.id]);},children:\"+\"}),/*#__PURE__*/_jsx(\"p\",{id:item.id,children:products[products.findIndex(function(x){return x.id===item.id;})].Quantity}),/*#__PURE__*/_jsx(\"button\",{id:item.id,onClick:function onClick(){setDec([item.id]);},children:\"-\"})]})]})]},item.id);})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: $ \",total]}),/*#__PURE__*/_jsx(\"button\",{children:\"Checkout\"})]})]});}export default Cart;","map":{"version":3,"names":["React","useState","useMemo","cart","jsx","_jsx","jsxs","_jsxs","Cart","props","products","slide","iid","_useState","_useState2","_slicedToArray","total","setTotal","_useState3","_useState4","allitems","setAllitems","_useState5","_useState6","inc","setInc","_useState7","_useState8","dec","setDec","increase","length","id","ind","findIndex","x","Quantity","decrease","document","getElementById","console","log","price","splice","Total","max","i","Number","toFixed","cartTotal","style","display","className","children","onClick","src","alt","map","item","img","title"],"sources":["/home/gregory/Documents/shopping-cart/src/cart.js"],"sourcesContent":["import React, {useState, useMemo} from \"react\";\nimport cart from \"./imgs/shopping-bag.png\"\nimport \"./cart.css\";\n\n\n\nfunction Cart(props) {\n   //imports picked products and slide function from RouteSwitch\n   const {products, slide, iid} = props;\n   \n   //stores the total number of picked products\n   const [total, setTotal] = useState(0);\n   const [allitems, setAllitems] = useState(0);\n   const [inc, setInc] = useState([]);\n   const [dec, setDec] = useState([]);\n\n   //increases the product quantity when the + button is clicked\n   const increase = () => {\n    if(inc.length > 0) {\n      let id = inc[0];\n      let ind = products.findIndex(x => x.id === id);\n      products[ind].Quantity ++;\n    }\n    else {\n       void(0)\n    }\n   }\n\n   //Decreases the product quantity when the - button is clicked\n   const decrease = () => {\n    if(dec.length > 0) {\n        let id = dec[0];\n        let ind = products.findIndex(x => x.id === id);\n        if(products[ind].Quantity === 1) {\n            let id = document.getElementById(products[ind].id);\n            console.log(id)\n            setTotal(total - products[ind].price)\n            products.splice(ind, 1);\n            setAllitems(allitems - 1);\n        }\n        else {\n            products[ind].Quantity --;\n        }\n      }\n      else {\n         void(0)\n      }\n   }\n\n   //loops through the selected products and multiply the quantity of each product by its price, and \n   //adds all of them to get the total price\n   const Total = () => {\n    let max = 0;\n    if(products.length > 0) {\n        for(let i=0; i<products.length; i++) {\n         max += products[i].price * products[i].Quantity\n        }\n        setTotal(Number(max.toFixed(2)))\n    }\n   }\n\n    //loops through the selected products and adds all the quantities, then displays them at the top of the cart\n   const cartTotal = () => {\n    let max = 0;\n    if(products.length > 0) {\n    for(let i=0; i<products.length; i++) {\n    max += products[i].Quantity\n    }\n    setAllitems(max)\n    }\n   }\n\n   //calls the total and the cart total to be recalculated when there is a change in \n   useMemo(() => {\n     Total()\n     cartTotal()\n   }, [iid])\n\n   \n   //recalls the increase function when there is an increase\n   useMemo(() => {\n    increase()\n    Total()\n   }, [inc])\n\n   //recalls the decrease function when there is a decrease\n   useMemo(() => {\n    decrease()\n    Total()\n   }, [dec])\n\n   //recalls the total when there is a change in products\n   useMemo(() => {\n    Total();\n   }, [products])\n\n   //recalls the cart total when there is a change in products, an increase or decrease in quantity\n   useMemo(() => {\n    cartTotal()\n   }, [products, inc, dec])\n\n   //Shows and Hides the cart total when the selected products are zero, or when products are selected\n   useMemo(() => {\n    if(total > 1) { document.getElementById(\"num\").style.display = \"flex\"};\n    if(total < 1 && dec.length > 0) { document.getElementById(\"num\").style.display = \"none\"}\n   }, [total])\n\n  \n\n\n\n   \n\n    return(\n        <div className=\"checkout\">\n\n        <div className='cart'>\n\n     \n        <button className=\"circle\" onClick={slide}>\n        <img src={cart} alt=\"cart\"/>\n        </button>\n\n        <div className=\"num\" id=\"num\"><p>{allitems}</p></div>\n\n    \n         </div>\n\n         <div className=\"yourItems\" id=\"check\">\n        <h2>Your items:</h2>\n\n        <div className=\"items\">\n           {\n            products.map((item) => (\n        \n               <div className=\"semiItem\" key = {item.id} >\n\n                <div className=\"image\">\n                <img src={item.img} alt=\"product\" />\n                </div>\n\n                <div className=\"cont\">\n\n                <h1>{item.title}</h1>\n\n                <p className=\"price\">$ {Number( (item.price * item.Quantity).toFixed(2))}</p>\n\n                <div className=\"buttons\">\n                 <button  id =  {item.id} onClick = {() => {setInc([item.id])}}>+</button>\n\n                 <p id = {item.id}>{products[products.findIndex(x => x.id === item.id)].Quantity}</p>\n\n                 <button  id = {item.id} onClick = {() => {setDec([item.id])}}>-</button>\n                 </div>   \n\n\n                </div>\n\n                </div>\n            ))\n           }\n       </div>\n\n       <p >Total: $ {total}</p>\n       <button >Checkout</button>\n\n\n       </div>\n       </div>\n\n    )\n}\n\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}